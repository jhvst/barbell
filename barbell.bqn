pairs â† {âŸ¨Â¯4â†“ğ•©,(â€¢file.Chars â€¢wdpathâˆ¾"/"âˆ¾ğ•©)âŸ©}Â¨{4=+Â´Â¯4â†‘ğ•©âˆŠ".bar"}Â¨âŠ¸/â€¢file.List â€¢wdpathâˆ¾"/."
input â† â€¢file.Chars â€¢wdpathâˆ¾"/"âˆ¾ âŠ‘ â€¢args

b â† "|"â·input
e â† "|"â·input

frags â† (+`e+Â»b) âŠ¸ âŠ” input
keys â† âŠ‘âŒœpairs
vals â† âŠ‘âˆ˜âŒ½âŒœpairs
mask â† fragsâˆŠkeys
values â† (mask / keys âŠ frags) âŠ¸ âŠ vals
reps â† valuesâŒ¾(maskâŠ¸/) frags

changed â† (âŸ¨-1,0,1âŸ©+3â¥ŠâŠ¢)Â¨âŠ‘âŒ½âŠ”mask
nmask â† {+Â´ğ•©â·(âˆ¾changed)}Â¨â†•â‰ frags
neighbors â† âˆ¾{âŸ¨â†•0,(1âŠ‘ğ•©)âŠ‘reps,â†•0âŸ©}Â¨changed
â€¢Out âˆ¾neighborsâŒ¾(nmaskâŠ¸/) reps

